!function e(){var t=100,o=20,n=0;const r=document.getElementById("score");r.textContent=n;class l{constructor(e,n){this.bottomLeft=[e,n],this.bottomRight=[e+t,n],this.topLeft=[e,n+o],this.topRight=[e+t,n+o]}}const c=[];var i,s=20,u=window.matchMedia("(max-width: 700px)");if(window.matchMedia("(max-width: 500px)").matches)for(let e=270;e>150;e-=30)for(let o=10;o<300;o+=60){c.push(new l(o,e));var d=[130,20],m=[150,40];t=50;var a=300}else if(u.matches)for(let e=270;e>150;e-=30)for(let o=10;o<360;o+=75){c.push(new l(o,e));d=[170,20],m=[200,40];t=65;a=400}else for(let e=270;e>150;e-=30)for(let t=10;t<500;t+=110){c.push(new l(t,e));d=[230,20],m=[270,40],a=560}var f=300,y=m,v=d;!function(){for(let e=0;e<20;e++){const t=document.createElement("div");t.classList.add("block"),document.querySelector(".game").appendChild(t),t.style.left=c[e].bottomLeft[0]+"px",t.style.bottom=c[e].bottomLeft[1]+"px"}}();const h=document.createElement("div");function p(e){switch(e.key){case"ArrowLeft":case"a":0!==v[0]&&(v[0]-=10,h.style.left=v[0]+"px");break;case"ArrowRight":case"d":v[0]!==a-t&&(v[0]+=10,h.style.left=v[0]+"px")}}function x(){S.style.left=y[0]+"px",S.style.bottom=y[1]+"px"}h.classList.add("user"),h.style.left=v[0]+"px",h.style.bottom=v[1]+"px",document.querySelector(".game").appendChild(h),document.querySelector(".left").addEventListener("click",(function(){0!==v[0]&&(v[0]-=10,h.style.left=v[0]+"px")})),document.querySelector(".right").addEventListener("click",(function(){v[0]!==a-t&&(v[0]+=10,h.style.left=v[0]+"px")})),document.addEventListener("keydown",p);const S=document.createElement("div");S.classList.add("ball"),x(),document.querySelector(".game").appendChild(S);var b=2,L=2;function q(e){"x"===e&&(b*=-1),"y"===e&&(L*=-1)}i=setInterval((function(){y[0]+=b,y[1]+=L,x(),function(){for(let e=0;e<c.length;e++){if(y[0]>c[e].bottomLeft[0]&&y[0]<c[e].bottomRight[0]&&y[1]<c[e].topRight[1]&&y[1]+s>c[e].bottomLeft[1])document.querySelectorAll(".block")[e].remove(),q("y"),c.splice(e,1),n+=10,r.innerHTML=n}if(y[0]>=a-s)q("x");else if(y[1]>=f-s)q("y");else if(y[0]<=0)q("x");else if(y[1]<=0){clearInterval(i),document.removeEventListener("keydown",p),document.querySelector(".left").removeEventListener("click",(function(){0!==v[0]&&(v[0]-=13,h.style.left=v[0]+"px")})),document.querySelector(".right").removeEventListener("click",(function(){v[0]!==a&&(v[0]+=13,h.style.left=v[0]+"px")}));for(let e=0;e<c.length;e++){let e=document.querySelector(".block");E.removeChild(e)}E.removeChild(document.querySelector(".ball")),E.removeChild(document.querySelector(".user"));let t=document.createElement("button");t.innerText="RESTART",t.setAttribute("class","restart"),E.appendChild(t),n=0,r.textContent=n,document.querySelector(".restart").addEventListener("click",(function(){document.querySelector(".restart").remove(),e()}))}else if(200===n){clearInterval(i),document.removeEventListener("keydown",p),document.querySelector(".left").removeEventListener("click",(function(){0!==v[0]&&(v[0]-=13,h.style.left=v[0]+"px")})),document.querySelector(".right").removeEventListener("click",(function(){v[0]!==a&&(v[0]+=13,h.style.left=v[0]+"px")}));for(let e=0;e<c.length;e++){let e=document.querySelector(".block");E.removeChild(e)}E.removeChild(document.querySelector(".ball")),E.removeChild(document.querySelector(".user"));let t=document.createElement("button");t.innerText="RESTART",t.setAttribute("class","restart"),E.appendChild(t),n=0,r.textContent=n,document.querySelector(".restart").addEventListener("click",(function(){document.querySelector(".restart").remove(),e()}))}}()}),30);let E=document.querySelector(".game");setInterval((function(){y[0]>v[0]&&y[0]<v[0]+t&&y[1]>v[1]&&y[1]<v[1]+o&&q("y")}),60)}();